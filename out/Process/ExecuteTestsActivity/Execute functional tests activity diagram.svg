<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="975px" preserveAspectRatio="none" style="width:663px;height:975px;" version="1.1" viewBox="0 0 663 975" width="663px" zoomAndPan="magnify"><defs><filter height="300%" id="fs3uhxwt8b3v3" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="225.5" cy="20" fill="#000000" filter="url(#fs3uhxwt8b3v3)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><path d="M333.5,40 L333.5,98.2305 L313.5,102.2305 L333.5,106.2305 L333.5,164.4609 A0,0 0 0 0 333.5,164.4609 L522.5,164.4609 A0,0 0 0 0 522.5,164.4609 L522.5,50 L512.5,40 L333.5,40 A0,0 0 0 0 333.5,40 " fill="#FBFB77" filter="url(#fs3uhxwt8b3v3)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M512.5,40 L512.5,50 L522.5,50 L512.5,40 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="339.5" y="58.4951">Directory to search is given</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="339.5" y="74.8467">as commandline argument to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="339.5" y="91.1982">framework call.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="339.5" y="107.5498">Argument 'n' can be given</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="339.5" y="123.9014">to indicate a preferered batch</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="339.5" y="140.2529">size. If n is not given, only</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="339.5" y="156.6045">one batch is spawned.</text><rect fill="#FEFECE" filter="url(#fs3uhxwt8b3v3)" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="176" x="137.5" y="84.6836"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="156" x="147.5" y="107.1406">Scan for php files (recursive)</text><polygon fill="#FEFECE" filter="url(#fs3uhxwt8b3v3)" points="196.5,184.4609,254.5,184.4609,266.5,196.4609,254.5,208.4609,196.5,208.4609,184.5,196.4609,196.5,184.4609" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="229.5" y="219.8799">Yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="196.5" y="200.9619">Test found?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="159" x="266.5" y="194.0439">No: Throw error: "No files found"</text><ellipse cx="447.5" cy="196.4609" fill="#FFFFFF" filter="url(#fs3uhxwt8b3v3)" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="447.5" cy="196.4609" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fs3uhxwt8b3v3)" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="188" x="131.5" y="290.2979"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="168" x="141.5" y="312.7549">Split files into batches of n size</text><polygon fill="#FEFECE" filter="url(#fs3uhxwt8b3v3)" points="182.5,241.3799,268.5,241.3799,280.5,253.3799,268.5,265.3799,182.5,265.3799,170.5,253.3799,182.5,241.3799" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="229.5" y="276.7988">True</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="86" x="182.5" y="257.8809">n is defined in call</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="26" x="280.5" y="250.9629">False</text><polygon fill="#FEFECE" filter="url(#fs3uhxwt8b3v3)" points="225.5,345.3916,237.5,357.3916,225.5,369.3916,213.5,357.3916,225.5,345.3916" style="stroke:#A80036;stroke-width:1.5;"/><path d="M472,621.4512 L472,680.5059 L651,680.5059 L651,631.4512 L641,621.4512 L472,621.4512 " fill="#FBFB77" filter="url(#fs3uhxwt8b3v3)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M641,621.4512 L641,631.4512 L651,631.4512 L641,621.4512 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="478" y="639.9463">This is executed in parallel</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="478" y="656.2979">for all defined batches.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="478" y="672.6494">If n == 1, execute once.</text><rect fill="#000000" filter="url(#fs3uhxwt8b3v3)" height="6" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="441" x="11" y="389.3916"/><path d="M23,506.3105 L23,565.3652 A0,0 0 0 0 23,565.3652 L249,565.3652 A0,0 0 0 0 249,565.3652 L249,539.8379 L269,535.8379 L249,531.8379 L249,516.3105 L239,506.3105 L23,506.3105 A0,0 0 0 0 23,506.3105 " fill="#FBFB77" filter="url(#fs3uhxwt8b3v3)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M239,506.3105 L239,516.3105 L249,516.3105 L239,506.3105 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="29" y="524.8057">Skip any file that doesn't</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="29" y="541.1572">contain @Test annotated functions;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="29" y="557.5088">continue to next file.</text><ellipse cx="279" cy="535.8379" fill="#FFFFFF" filter="url(#fs3uhxwt8b3v3)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:2.5;" x1="272.8128" x2="285.1872" y1="529.6507" y2="542.0251"/><line style="stroke:#000000;stroke-width:2.5;" x1="285.1872" x2="272.8128" y1="529.6507" y2="542.0251"/><polygon fill="#FEFECE" filter="url(#fs3uhxwt8b3v3)" points="202,459.3916,356,459.3916,368,471.3916,356,483.3916,202,483.3916,190,471.3916,202,459.3916" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="26" x="283" y="494.8105">False</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="154" x="202" y="475.8926">File contains @Test annotations</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="368" y="468.9746">True</text><rect fill="#FEFECE" filter="url(#fs3uhxwt8b3v3)" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="203" x="177.5" y="607.3652"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="95" x="187.5" y="629.8223">Execute the test's</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40" x="285.5" y="629.8223">Setup()</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="42" x="328.5" y="629.8223">method</text><rect fill="#FEFECE" filter="url(#fs3uhxwt8b3v3)" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="246" x="156" y="734.3779"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="88" x="166" y="756.835">Execute the next</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="31" x="257" y="756.835">@test</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="101" x="291" y="756.835">annotated function</text><polygon fill="#FEFECE" filter="url(#fs3uhxwt8b3v3)" points="220.5,677.459,337.5,677.459,349.5,689.459,337.5,701.459,220.5,701.459,208.5,689.459,220.5,677.459" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="26" x="283" y="712.8779">False</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="117" x="220.5" y="693.96">Have all tests been run?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="186.5" y="687.042">True</text><rect fill="#FEFECE" filter="url(#fs3uhxwt8b3v3)" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="225" x="166.5" y="811.4717"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="95" x="176.5" y="833.9287">Execute the test's</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="62" x="274.5" y="833.9287">Teardown()</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="42" x="339.5" y="833.9287">method</text><polygon fill="#FEFECE" filter="url(#fs3uhxwt8b3v3)" points="279,415.3916,291,427.3916,279,439.3916,267,427.3916,279,415.3916" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#FEFECE" filter="url(#fs3uhxwt8b3v3)" points="221.5,866.5654,336.5,866.5654,348.5,878.5654,336.5,890.5654,221.5,890.5654,209.5,878.5654,221.5,866.5654" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="283" y="901.9844">True</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="115" x="221.5" y="883.0664">All files in batch tested?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="26" x="348.5" y="876.1484">False</text><rect fill="#000000" filter="url(#fs3uhxwt8b3v3)" height="6" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="441" x="11" y="910.5654"/><ellipse cx="225.5" cy="947.5654" fill="#FFFFFF" filter="url(#fs3uhxwt8b3v3)" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="225.5" cy="947.5654" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="225.5" x2="225.5" y1="30" y2="84.6836"/><polygon fill="#A80036" points="221.5,74.6836,225.5,84.6836,229.5,74.6836,225.5,78.6836" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="225.5" x2="225.5" y1="208.4609" y2="241.3799"/><polygon fill="#A80036" points="221.5,231.3799,225.5,241.3799,229.5,231.3799,225.5,235.3799" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="266.5" x2="436.5" y1="196.4609" y2="196.4609"/><polygon fill="#A80036" points="426.5,192.4609,436.5,196.4609,426.5,200.4609,430.5,196.4609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="225.5" x2="225.5" y1="119.7773" y2="184.4609"/><polygon fill="#A80036" points="221.5,174.4609,225.5,184.4609,229.5,174.4609,225.5,178.4609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="225.5" x2="225.5" y1="265.3799" y2="290.2979"/><polygon fill="#A80036" points="221.5,280.2979,225.5,290.2979,229.5,280.2979,225.5,284.2979" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="280.5" x2="329.5" y1="253.3799" y2="253.3799"/><polygon fill="#A80036" points="325.5,297.8447,329.5,307.8447,333.5,297.8447,329.5,301.8447" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="329.5" x2="329.5" y1="253.3799" y2="357.3916"/><line style="stroke:#A80036;stroke-width:1.5;" x1="329.5" x2="237.5" y1="357.3916" y2="357.3916"/><polygon fill="#A80036" points="247.5,353.3916,237.5,357.3916,247.5,361.3916,243.5,357.3916" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="225.5" x2="225.5" y1="325.3916" y2="345.3916"/><polygon fill="#A80036" points="221.5,335.3916,225.5,345.3916,229.5,335.3916,225.5,339.3916" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="279" x2="279" y1="483.3916" y2="525.8379"/><polygon fill="#A80036" points="275,515.8379,279,525.8379,283,515.8379,279,519.8379" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="368" x2="380" y1="471.3916" y2="471.3916"/><polygon fill="#A80036" points="376,522.8379,380,532.8379,384,522.8379,380,526.8379" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="380" x2="380" y1="471.3916" y2="587.3652"/><line style="stroke:#A80036;stroke-width:1.5;" x1="380" x2="279" y1="587.3652" y2="587.3652"/><line style="stroke:#A80036;stroke-width:1.5;" x1="279" x2="279" y1="587.3652" y2="607.3652"/><polygon fill="#A80036" points="275,597.3652,279,607.3652,283,597.3652,279,601.3652" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="279" x2="279" y1="701.459" y2="734.3779"/><polygon fill="#A80036" points="275,724.3779,279,734.3779,283,724.3779,279,728.3779" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="279" x2="279" y1="769.4717" y2="779.4717"/><line style="stroke:#A80036;stroke-width:1.5;" x1="279" x2="414" y1="779.4717" y2="779.4717"/><polygon fill="#A80036" points="410,743.0068,414,733.0068,418,743.0068,414,739.0068" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="414" x2="414" y1="689.459" y2="779.4717"/><line style="stroke:#A80036;stroke-width:1.5;" x1="414" x2="349.5" y1="689.459" y2="689.459"/><polygon fill="#A80036" points="359.5,685.459,349.5,689.459,359.5,693.459,355.5,689.459" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="208.5" x2="144" y1="689.459" y2="689.459"/><polygon fill="#A80036" points="140,729.0068,144,739.0068,148,729.0068,144,733.0068" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="144" x2="144" y1="689.459" y2="791.4717"/><line style="stroke:#A80036;stroke-width:1.5;" x1="144" x2="279" y1="791.4717" y2="791.4717"/><line style="stroke:#A80036;stroke-width:1.5;" x1="279" x2="279" y1="791.4717" y2="811.4717"/><polygon fill="#A80036" points="275,801.4717,279,811.4717,283,801.4717,279,805.4717" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="279" x2="279" y1="642.459" y2="677.459"/><polygon fill="#A80036" points="275,667.459,279,677.459,283,667.459,279,671.459" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="279" x2="279" y1="439.3916" y2="459.3916"/><polygon fill="#A80036" points="275,449.3916,279,459.3916,283,449.3916,279,453.3916" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="348.5" x2="426" y1="878.5654" y2="878.5654"/><polygon fill="#A80036" points="422,660.9785,426,650.9785,430,660.9785,426,656.9785" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="426" x2="426" y1="427.3916" y2="878.5654"/><line style="stroke:#A80036;stroke-width:1.5;" x1="426" x2="291" y1="427.3916" y2="427.3916"/><polygon fill="#A80036" points="301,423.3916,291,427.3916,301,431.3916,297,427.3916" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="279" x2="279" y1="846.5654" y2="866.5654"/><polygon fill="#A80036" points="275,856.5654,279,866.5654,283,856.5654,279,860.5654" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="279" x2="279" y1="395.3916" y2="415.3916"/><polygon fill="#A80036" points="275,405.3916,279,415.3916,283,405.3916,279,409.3916" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="279" x2="279" y1="890.5654" y2="910.5654"/><polygon fill="#A80036" points="275,900.5654,279,910.5654,283,900.5654,279,904.5654" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="225.5" x2="225.5" y1="369.3916" y2="389.3916"/><polygon fill="#A80036" points="221.5,379.3916,225.5,389.3916,229.5,379.3916,225.5,383.3916" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="225.5" x2="225.5" y1="916.5654" y2="936.5654"/><polygon fill="#A80036" points="221.5,926.5654,225.5,936.5654,229.5,926.5654,225.5,930.5654" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ff200c8fd4d856ee2f784d66af4f7726]
@startuml Execute functional tests activity diagram
start

:Scan for php files (recursive);

note right
    Directory to search is given
    as commandline argument to
    framework call.
    Argument 'n' can be given
    to indicate a preferered batch
    size. If n is not given, only
    one batch is spawned.
end note

if (Test found?) then (No: Throw error: "No files found")
    stop
else (Yes)
endif

if (n is defined in call) then (True)
    :Split files into batches of n size;
else (False)
endif

fork
    repeat
        if (File contains @Test annotations) then (False)
            end
            note left
                Skip any file that doesn't
                contain @Test annotated functions;
                continue to next file.
            end note
        else (True)
        endif
        :Execute the test's <i>Setup()</i> method;
        while (Have all tests been run?) is (False)
            :Execute the next <i>@test</i> annotated function;
        endwhile (True) 
        :Execute the test's <i>Teardown()</i> method;
    repeat while (All files in batch tested?) is (False) not (True)
end fork

note right
    This is executed in parallel 
    for all defined batches. 
    If n == 1, execute once.
end note

stop
@enduml

PlantUML version 1.2021.00(Sun Jan 10 11:25:05 CET 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: GB
--></g></svg>