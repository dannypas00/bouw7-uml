<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="897px" preserveAspectRatio="none" style="width:660px;height:897px;" version="1.1" viewBox="0 0 660 897" width="660px" zoomAndPan="magnify"><defs><filter height="300%" id="fb6lhsouk61et" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="224" cy="20" fill="#000000" filter="url(#fb6lhsouk61et)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><path d="M332,40 L332,65.5273 L312,69.5273 L332,73.5273 L332,99.0547 A0,0 0 0 0 332,99.0547 L521,99.0547 A0,0 0 0 0 521,99.0547 L521,50 L511,40 L332,40 A0,0 0 0 0 332,40 " fill="#FBFB77" filter="url(#fb6lhsouk61et)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M511,40 L511,50 L521,50 L511,40 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="338" y="58.4951">Directory to search is given</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="338" y="74.8467">as commandline argument to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="338" y="91.1982">framework call.</text><rect fill="#FEFECE" filter="url(#fb6lhsouk61et)" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="176" x="136" y="51.9805"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="156" x="146" y="74.4375">Scan for php files (recursive)</text><polygon fill="#FEFECE" filter="url(#fb6lhsouk61et)" points="195,119.0547,253,119.0547,265,131.0547,253,143.0547,195,143.0547,183,131.0547,195,119.0547" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="195" y="135.5557">Test found?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="172" x="265" y="128.6377">False: Throw error: "No files found"</text><ellipse cx="459" cy="131.0547" fill="#FFFFFF" filter="url(#fb6lhsouk61et)" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="459" cy="131.0547" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fb6lhsouk61et)" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="188" x="130" y="211.9727"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="168" x="140" y="234.4297">Split files into batches of n size</text><polygon fill="#FEFECE" filter="url(#fb6lhsouk61et)" points="181,163.0547,267,163.0547,279,175.0547,267,187.0547,181,187.0547,169,175.0547,181,163.0547" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="228" y="198.4736">True</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="86" x="181" y="179.5557">n is defined in call</text><polygon fill="#FEFECE" filter="url(#fb6lhsouk61et)" points="224,267.0664,236,279.0664,224,291.0664,212,279.0664,224,267.0664" style="stroke:#A80036;stroke-width:1.5;"/><path d="M469,543.126 L469,602.1807 L648,602.1807 L648,553.126 L638,543.126 L469,543.126 " fill="#FBFB77" filter="url(#fb6lhsouk61et)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M638,543.126 L638,553.126 L648,553.126 L638,543.126 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="475" y="561.6211">This is executed in parallel</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="475" y="577.9727">for all defined batches.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="475" y="594.3242">If n == 1, execute once.</text><rect fill="#000000" filter="url(#fb6lhsouk61et)" height="6" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="438" x="11" y="311.0664"/><path d="M23,427.9854 L23,487.04 A0,0 0 0 0 23,487.04 L246,487.04 A0,0 0 0 0 246,487.04 L246,461.5127 L266,457.5127 L246,453.5127 L246,437.9854 L236,427.9854 L23,427.9854 A0,0 0 0 0 23,427.9854 " fill="#FBFB77" filter="url(#fb6lhsouk61et)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M236,427.9854 L236,437.9854 L246,437.9854 L236,427.9854 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="29" y="446.4805">Skip any file that doesn't</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="29" y="462.832">contain @test annotated functions;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="29" y="479.1836">continue to next file.</text><ellipse cx="276" cy="457.5127" fill="#FFFFFF" filter="url(#fb6lhsouk61et)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:2.5;" x1="269.8128" x2="282.1872" y1="451.3255" y2="463.6999"/><line style="stroke:#000000;stroke-width:2.5;" x1="282.1872" x2="269.8128" y1="451.3255" y2="463.6999"/><polygon fill="#FEFECE" filter="url(#fb6lhsouk61et)" points="200.5,381.0664,351.5,381.0664,363.5,393.0664,351.5,405.0664,200.5,405.0664,188.5,393.0664,200.5,381.0664" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="280" y="416.4854">True</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="151" x="200.5" y="397.5674">File contains @test annotations</text><rect fill="#FEFECE" filter="url(#fb6lhsouk61et)" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="203" x="174.5" y="529.04"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="95" x="184.5" y="551.4971">Execute the test's</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40" x="282.5" y="551.4971">Setup()</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="42" x="325.5" y="551.4971">method</text><rect fill="#FEFECE" filter="url(#fb6lhsouk61et)" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="246" x="153" y="656.0527"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="88" x="163" y="678.5098">Execute the next</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="31" x="254" y="678.5098">@test</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="101" x="288" y="678.5098">annotated function</text><polygon fill="#FEFECE" filter="url(#fb6lhsouk61et)" points="217.5,599.1338,334.5,599.1338,346.5,611.1338,334.5,623.1338,217.5,623.1338,205.5,611.1338,217.5,599.1338" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="26" x="280" y="634.5527">False</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="117" x="217.5" y="615.6348">Have all tests been run?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="183.5" y="608.7168">True</text><rect fill="#FEFECE" filter="url(#fb6lhsouk61et)" height="35.0938" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="225" x="163.5" y="733.1465"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="95" x="173.5" y="755.6035">Execute the test's</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="62" x="271.5" y="755.6035">Teardown()</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="42" x="336.5" y="755.6035">method</text><polygon fill="#FEFECE" filter="url(#fb6lhsouk61et)" points="276,337.0664,288,349.0664,276,361.0664,264,349.0664,276,337.0664" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#FEFECE" filter="url(#fb6lhsouk61et)" points="218.5,788.2402,333.5,788.2402,345.5,800.2402,333.5,812.2402,218.5,812.2402,206.5,800.2402,218.5,788.2402" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="280" y="823.6592">True</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="115" x="218.5" y="804.7412">All files in batch tested?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="26" x="345.5" y="797.8232">False</text><rect fill="#000000" filter="url(#fb6lhsouk61et)" height="6" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="438" x="11" y="832.2402"/><ellipse cx="224" cy="869.2402" fill="#FFFFFF" filter="url(#fb6lhsouk61et)" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="224" cy="869.2402" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="224" x2="224" y1="30" y2="51.9805"/><polygon fill="#A80036" points="220,41.9805,224,51.9805,228,41.9805,224,45.9805" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="224" x2="224" y1="143.0547" y2="163.0547"/><polygon fill="#A80036" points="220,153.0547,224,163.0547,228,153.0547,224,157.0547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="265" x2="448" y1="131.0547" y2="131.0547"/><polygon fill="#A80036" points="438,127.0547,448,131.0547,438,135.0547,442,131.0547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="224" x2="224" y1="87.0742" y2="119.0547"/><polygon fill="#A80036" points="220,109.0547,224,119.0547,228,109.0547,224,113.0547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="224" x2="224" y1="187.0547" y2="211.9727"/><polygon fill="#A80036" points="220,201.9727,224,211.9727,228,201.9727,224,205.9727" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="279" x2="328" y1="175.0547" y2="175.0547"/><polygon fill="#A80036" points="324,219.5195,328,229.5195,332,219.5195,328,223.5195" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="328" x2="328" y1="175.0547" y2="279.0664"/><line style="stroke:#A80036;stroke-width:1.5;" x1="328" x2="236" y1="279.0664" y2="279.0664"/><polygon fill="#A80036" points="246,275.0664,236,279.0664,246,283.0664,242,279.0664" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="224" x2="224" y1="247.0664" y2="267.0664"/><polygon fill="#A80036" points="220,257.0664,224,267.0664,228,257.0664,224,261.0664" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="276" x2="276" y1="405.0664" y2="447.5127"/><polygon fill="#A80036" points="272,437.5127,276,447.5127,280,437.5127,276,441.5127" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="363.5" x2="375.5" y1="393.0664" y2="393.0664"/><polygon fill="#A80036" points="371.5,444.5127,375.5,454.5127,379.5,444.5127,375.5,448.5127" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="375.5" x2="375.5" y1="393.0664" y2="509.04"/><line style="stroke:#A80036;stroke-width:1.5;" x1="375.5" x2="276" y1="509.04" y2="509.04"/><line style="stroke:#A80036;stroke-width:1.5;" x1="276" x2="276" y1="509.04" y2="529.04"/><polygon fill="#A80036" points="272,519.04,276,529.04,280,519.04,276,523.04" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="276" x2="276" y1="623.1338" y2="656.0527"/><polygon fill="#A80036" points="272,646.0527,276,656.0527,280,646.0527,276,650.0527" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="276" x2="276" y1="691.1465" y2="701.1465"/><line style="stroke:#A80036;stroke-width:1.5;" x1="276" x2="411" y1="701.1465" y2="701.1465"/><polygon fill="#A80036" points="407,664.6816,411,654.6816,415,664.6816,411,660.6816" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="411" x2="411" y1="611.1338" y2="701.1465"/><line style="stroke:#A80036;stroke-width:1.5;" x1="411" x2="346.5" y1="611.1338" y2="611.1338"/><polygon fill="#A80036" points="356.5,607.1338,346.5,611.1338,356.5,615.1338,352.5,611.1338" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="205.5" x2="141" y1="611.1338" y2="611.1338"/><polygon fill="#A80036" points="137,650.6816,141,660.6816,145,650.6816,141,654.6816" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="141" x2="141" y1="611.1338" y2="713.1465"/><line style="stroke:#A80036;stroke-width:1.5;" x1="141" x2="276" y1="713.1465" y2="713.1465"/><line style="stroke:#A80036;stroke-width:1.5;" x1="276" x2="276" y1="713.1465" y2="733.1465"/><polygon fill="#A80036" points="272,723.1465,276,733.1465,280,723.1465,276,727.1465" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="276" x2="276" y1="564.1338" y2="599.1338"/><polygon fill="#A80036" points="272,589.1338,276,599.1338,280,589.1338,276,593.1338" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="276" x2="276" y1="361.0664" y2="381.0664"/><polygon fill="#A80036" points="272,371.0664,276,381.0664,280,371.0664,276,375.0664" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="345.5" x2="423" y1="800.2402" y2="800.2402"/><polygon fill="#A80036" points="419,582.6533,423,572.6533,427,582.6533,423,578.6533" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="423" x2="423" y1="349.0664" y2="800.2402"/><line style="stroke:#A80036;stroke-width:1.5;" x1="423" x2="288" y1="349.0664" y2="349.0664"/><polygon fill="#A80036" points="298,345.0664,288,349.0664,298,353.0664,294,349.0664" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="276" x2="276" y1="768.2402" y2="788.2402"/><polygon fill="#A80036" points="272,778.2402,276,788.2402,280,778.2402,276,782.2402" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="276" x2="276" y1="317.0664" y2="337.0664"/><polygon fill="#A80036" points="272,327.0664,276,337.0664,280,327.0664,276,331.0664" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="276" x2="276" y1="812.2402" y2="832.2402"/><polygon fill="#A80036" points="272,822.2402,276,832.2402,280,822.2402,276,826.2402" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="224" x2="224" y1="291.0664" y2="311.0664"/><polygon fill="#A80036" points="220,301.0664,224,311.0664,228,301.0664,224,305.0664" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="224" x2="224" y1="838.2402" y2="858.2402"/><polygon fill="#A80036" points="220,848.2402,224,858.2402,228,848.2402,224,852.2402" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b5ad63aee85254ff6cb8212cea3e65e5]
@startuml Execute functional tests activity diagram
start

:Scan for php files (recursive);

note right
    Directory to search is given
    as commandline argument to
    framework call.
end note

if (Test found?) then (False: Throw error: "No files found")
    stop
endif

if (n is defined in call) then (True)
    :Split files into batches of n size;
endif

fork
    repeat
        if (File contains @test annotations) then (True)
            end
            note left
                Skip any file that doesn't
                contain @test annotated functions;
                continue to next file.
            end note
        endif
        :Execute the test's <i>Setup()</i> method;
        while (Have all tests been run?) is (False)
            :Execute the next <i>@test</i> annotated function;
        endwhile (True) 
        :Execute the test's <i>Teardown()</i> method;
    repeat while (All files in batch tested?) is (False) not (True)
end fork

note right
    This is executed in parallel 
    for all defined batches. 
    If n == 1, execute once.
end note

stop
@enduml

PlantUML version 1.2021.00(Sun Jan 10 11:25:05 CET 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: GB
--></g></svg>